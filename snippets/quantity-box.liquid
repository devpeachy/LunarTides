{% if settings.qty_box_style == 'stacked' %}
  {% assign icon-plus = 'up-caret' %}
  {% assign icon-minus = 'down-caret' %}
{% else %}
  {% assign icon-plus = 'plus' %}
  {% assign icon-minus = 'minus' %}
{% endif %}

{% if item.quantity %}
  {% assign value = item.quantity %}
{% else %}
  {% assign value = 1 %}
{% endif %}

<label class="label" for="quantity">{{ 'products.product.quantity' | t }}</label>
<div class="quantity-wrapper field has-addons quantity-style--{{ settings.qty_box_style }} {{ size }}">
  <div class="control minus-control">
    <span class="quantity-minus quantity-element button is-inverse" data-update-quantity="minus" {% if value == 1 %}disabled{% endif %}>
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5 13V11H19V13H5Z" fill="white"/>
      </svg>
    </span>
  </div>

  <div class="control quantity-input-control {% unless show_payment_button %}quantity-input-control--fill{% endunless %}">
    <input class="quantity-input quantity-element input" type="number" min="1" size="2" name="quantity" value="{{ value }}" {% if settings.limit_quantity and variant.inventory_management != blank and variant.inventory_policy == "deny" %}max="{{ variant.inventory_quantity }}" data-max-inventory-management {% endif %} data-line-id="{{ forloop.index }}"/>
  </div>

  <div class="control plus-control">
    <span class="quantity-plus quantity-element button is-inverse" data-update-quantity="plus" {% if settings.limit_quantity and variant.inventory_management != blank and variant.inventory_policy == "deny" %}{% if variant.inventory_quantity == value %}disabled{% endif %}{% endif %}>
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M13 13V19H11V13H5V11H11V5H13V11H19V13H13Z" fill="white"/>
      </svg>
    </span>
  </div>
</div>
